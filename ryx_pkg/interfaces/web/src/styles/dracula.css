/**
 * @file ryx/interfaces/web/src/styles/dracula.css
 * @description Dracula/Hyprland theme color variables and utility classes for RyxHub.
 * 
 * Design System:
 * - Background: #1e1e2e (dark charcoal)
 * - Text Primary: #c0caf5 (light purple/lavender)
 * - Text Secondary: #7aa2f7 (muted blue)
 * - Accent (Ryx): #9d7cd8 (purple)
 * - Success: #a6e3a1 (green)
 * - Progress: #f9e2af (yellow)
 * - Error: #f38ba8 (red)
 * - Border: #45475a (subtle gray)
 * - Hover BG: #313244 (slightly lighter)
 */

:root {
  /* RyxHub Design System - Primary Colors */
  --ryx-bg: #1e1e2e;
  --ryx-bg-dark: #191a24;
  --ryx-bg-elevated: #21222c;
  --ryx-bg-hover: #313244;
  --ryx-current-line: #44475a;
  
  /* Text Colors */
  --ryx-text: #c0caf5;
  --ryx-text-secondary: #7aa2f7;
  --ryx-text-muted: #6272a4;
  --ryx-foreground: #f8f8f2;
  
  /* Accent Colors */
  --ryx-accent: #9d7cd8;
  --ryx-purple: #bd93f9;
  --ryx-cyan: #8be9fd;
  --ryx-pink: #ff79c6;
  --ryx-orange: #ffb86c;
  
  /* Status Colors */
  --ryx-success: #a6e3a1;
  --ryx-progress: #f9e2af;
  --ryx-error: #f38ba8;
  --ryx-warning: #f1fa8c;
  
  /* Border */
  --ryx-border: #45475a;
  
  /* Legacy Dracula mappings for backward compatibility */
  --dracula-bg: #282a36;
  --dracula-current-line: #44475a;
  --dracula-foreground: #f8f8f2;
  --dracula-comment: #6272a4;
  --dracula-cyan: #8be9fd;
  --dracula-green: #50fa7b;
  --dracula-orange: #ffb86c;
  --dracula-pink: #ff79c6;
  --dracula-purple: #bd93f9;
  --dracula-red: #ff5555;
  --dracula-yellow: #f1fa8c;
  --dracula-selection: #44475a;
  --dracula-darker: #21222c;
  --dracula-border: #6272a4;
  --dracula-highlight: rgba(139, 233, 253, 0.1);

  /* Status Colors - Mapped to RyxHub design */
  --status-pending: var(--ryx-progress);
  --status-running: var(--ryx-cyan);
  --status-success: var(--ryx-success);
  --status-failed: var(--ryx-error);
  --status-info: var(--ryx-accent);
  --status-warning: var(--ryx-orange);
  
  /* Typography */
  --font-mono: 'JetBrains Mono', 'Roboto Mono', ui-monospace, monospace;
  --font-size-base: 14px;
  --line-height: 1.6;
  --letter-spacing: -0.01em;
  
  /* Spacing */
  --panel-padding: 16px;
  --panel-padding-lg: 24px;
  --btn-padding-sm: 8px 12px;
  --btn-padding-md: 12px 16px;
  
  /* Border Radius */
  --radius-sm: 6px;
  --radius-md: 8px;
  
  /* Transitions */
  --transition-fast: 150ms ease-out;
  --transition-normal: 200ms ease-in-out;
}

/* Dracula Theme Utility Classes */
.dracula-bg {
  background-color: var(--dracula-bg);
}

.dracula-bg-dark {
  background-color: var(--dracula-darker);
}

.dracula-bg-current {
  background-color: var(--dracula-current-line);
}

.dracula-text {
  color: var(--dracula-foreground);
}

.dracula-text-comment {
  color: var(--dracula-comment);
}

.dracula-text-cyan {
  color: var(--dracula-cyan);
}

.dracula-text-green {
  color: var(--dracula-green);
}

.dracula-text-orange {
  color: var(--dracula-orange);
}

.dracula-text-pink {
  color: var(--dracula-pink);
}

.dracula-text-purple {
  color: var(--dracula-purple);
}

.dracula-text-red {
  color: var(--dracula-red);
}

.dracula-text-yellow {
  color: var(--dracula-yellow);
}

.dracula-border {
  border-color: var(--dracula-border);
}

/* Workflow Node Status Classes */
.workflow-status-pending {
  border-color: var(--status-pending);
  box-shadow: 0 0 8px rgba(241, 250, 140, 0.3);
}

.workflow-status-running {
  border-color: var(--status-running);
  box-shadow: 0 0 12px rgba(139, 233, 253, 0.4);
  animation: pulse-glow 2s ease-in-out infinite;
}

.workflow-status-success {
  border-color: var(--status-success);
  box-shadow: 0 0 8px rgba(80, 250, 123, 0.3);
}

.workflow-status-failed {
  border-color: var(--status-failed);
  box-shadow: 0 0 8px rgba(255, 85, 85, 0.3);
}

/* Animations for workflow visualization */
@keyframes pulse-glow {
  0%, 100% {
    box-shadow: 0 0 8px rgba(139, 233, 253, 0.3);
  }
  50% {
    box-shadow: 0 0 20px rgba(139, 233, 253, 0.6);
  }
}

@keyframes edge-flow {
  0% {
    stroke-dashoffset: 24;
  }
  100% {
    stroke-dashoffset: 0;
  }
}

/* React Flow Customizations */
.react-flow__edge-path {
  stroke: var(--dracula-comment);
  stroke-width: 2;
}

.react-flow__edge.animated .react-flow__edge-path {
  stroke-dasharray: 5;
  animation: edge-flow 1s linear infinite;
}

.react-flow__edge.selected .react-flow__edge-path {
  stroke: var(--dracula-cyan);
  stroke-width: 3;
}

.react-flow__handle {
  background-color: var(--dracula-purple);
  border: 2px solid var(--dracula-bg);
}

.react-flow__handle-left {
  left: -8px;
}

.react-flow__handle-right {
  right: -8px;
}

.react-flow__minimap {
  background-color: var(--dracula-darker);
  border: 1px solid var(--dracula-border);
}

.react-flow__controls {
  background-color: var(--dracula-current-line);
  border: 1px solid var(--dracula-border);
  border-radius: 8px;
}

.react-flow__controls-button {
  background-color: var(--dracula-bg);
  border-color: var(--dracula-border);
  fill: var(--dracula-foreground);
}

.react-flow__controls-button:hover {
  background-color: var(--dracula-current-line);
}

/* Latency Badge Styles */
.latency-badge {
  background-color: var(--dracula-current-line);
  color: var(--dracula-cyan);
  font-size: 0.75rem;
  padding: 2px 6px;
  border-radius: 9999px;
  font-family: ui-monospace, monospace;
}

/* Scrollbar styling for event lists */
.dracula-scrollbar::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.dracula-scrollbar::-webkit-scrollbar-track {
  background: var(--dracula-darker);
  border-radius: 4px;
}

.dracula-scrollbar::-webkit-scrollbar-thumb {
  background: var(--dracula-comment);
  border-radius: 4px;
}

.dracula-scrollbar::-webkit-scrollbar-thumb:hover {
  background: var(--dracula-purple);
}

/* RyxHub Scrollbar styling */
.ryx-scrollbar {
  scrollbar-width: thin;
  scrollbar-color: var(--ryx-text-muted) var(--ryx-bg-dark);
}

.ryx-scrollbar::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

.ryx-scrollbar::-webkit-scrollbar-track {
  background: var(--ryx-bg-dark);
  border-radius: 3px;
}

.ryx-scrollbar::-webkit-scrollbar-thumb {
  background: var(--ryx-text-muted);
  border-radius: 3px;
}

.ryx-scrollbar::-webkit-scrollbar-thumb:hover {
  background: var(--ryx-accent);
}

/* Base font for RyxHub */
body {
  font-family: var(--font-mono);
  font-size: var(--font-size-base);
  line-height: var(--line-height);
  letter-spacing: var(--letter-spacing);
}

/* Responsive adjustments */
@media (max-width: 768px) {
  /* Stack panels vertically on mobile */
  .ryx-panel-grid {
    flex-direction: column;
  }
  
  .ryx-sidebar {
    width: 100%;
    max-height: 200px;
    border-right: none;
    border-bottom: 1px solid var(--ryx-border);
  }
  
  .ryx-results-panel {
    width: 100%;
    max-height: 300px;
  }
}

@media (min-width: 769px) and (max-width: 1024px) {
  /* 2-column layout on tablet */
  .ryx-results-panel {
    width: 280px;
  }
}
